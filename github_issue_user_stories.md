# バナーコピー生成機能 - ユーザーストーリー

## エピック
**As a** Punks マーケター  
**I want** ペルソナ・課題・ベネフィット・必須ワードの入力完了後、「クリエイティブを生成」ボタンを押すことで、AIが自動的にバナーコピーを生成し、ユーザーが編集可能な形で表示する機能  
**So that** 効果的な広告クリエイティブを短時間で作成し、クライアントに高品質なバナー広告を提供できる

## ユーザーストーリー詳細

### Story 1: バナーコピー自動生成
**As a** マーケター  
**I want** ブリーフ情報を入力して「クリエイティブを生成」ボタンを押すと、AIが自動的にメインテキスト・サブテキスト・CTAボタン文言を生成する  
**So that** 手動でコピーを考える時間を大幅に短縮できる

#### アクセプタンスクライテリア
- [ ] ペルソナ・課題・ベネフィット・必須ワード（任意）を入力できる
- [ ] 「クリエイティブを生成」ボタンを押すとAI生成処理が開始される
- [ ] 生成中はローディング状態が表示される
- [ ] 生成完了後、以下の3つのコピー要素が表示される：
  - メインテキスト（20-30文字程度）
  - サブテキスト（40-60文字程度）
  - CTAボタン文言（5-15文字程度）
- [ ] 必須ワードが指定されている場合、生成されたコピーに含まれている
- [ ] 生成に失敗した場合、適切なエラーメッセージが表示される
- [ ] 生成時間は5秒以内

#### 受け入れテスト
```gherkin
Feature: バナーコピー自動生成

Scenario: 正常なコピー生成
  Given ブリーフページにアクセスしている
  When ペルソナに "30代働く女性" を入力する
  And 課題に "忙しくて栄養バランスが取れない" を入力する
  And ベネフィットに "時短で健康的な食事が摂れる" を入力する
  And 必須ワードに "時短,健康" を入力する
  And "クリエイティブを生成" ボタンをクリックする
  Then ローディング状態が表示される
  And 5秒以内にコピーが生成される
  And メインテキストが表示される
  And サブテキストが表示される
  And CTAボタン文言が表示される
  And 生成されたコピーに "時短" と "健康" が含まれている

Scenario: 必須項目未入力時のエラー
  Given ブリーフページにアクセスしている
  When ペルソナを空のままにする
  And "クリエイティブを生成" ボタンをクリックする
  Then "ペルソナは必須項目です" エラーメッセージが表示される
  And コピー生成処理は実行されない
```

### Story 2: バナーコピー編集機能
**As a** マーケター  
**I want** 生成されたバナーコピーを自由に編集できる  
**So that** クライアントの要望や戦略に合わせてコピーを最適化できる

#### アクセプタンスクライテリア
- [ ] 生成されたメインテキスト・サブテキスト・CTAボタン文言がそれぞれ編集可能
- [ ] 各フィールドに文字数制限が設定されている
- [ ] 文字数カウンターがリアルタイムで更新される
- [ ] 文字数制限を超えた場合、警告が表示される
- [ ] 編集内容は自動保存される
- [ ] 編集中もリアルタイムプレビューが更新される

#### 受け入れテスト
```gherkin
Feature: バナーコピー編集

Scenario: コピーの編集
  Given バナーコピーが生成されている
  When メインテキストを "新しいキャッチコピー" に変更する
  Then メインテキストが更新される
  And 文字数カウンターが "11/30" と表示される
  And プレビューが更新される
  And 変更内容が自動保存される

Scenario: 文字数制限の警告
  Given バナーコピーが生成されている
  When メインテキストに31文字以上入力する
  Then "文字数制限を超えています" 警告が表示される
  And 保存ボタンが無効化される
```

### Story 3: バナーサイズ選択機能
**As a** マーケター  
**I want** 複数のバナーサイズから選択できる  
**So that** 異なる広告プラットフォームに対応したバナーを作成できる

#### アクセプタンスクライテリア
- [ ] 以下のサイズから選択可能：
  - Google Ads リーダーボード (728×90)
  - Facebook/Instagram フィード (1080×1080)
  - Instagram ストーリー (1080×1920)
- [ ] 選択したサイズがプレビューに反映される
- [ ] サイズごとに最適化されたレイアウトが適用される
- [ ] デフォルトでFacebook/Instagram フィード (1080×1080)が選択されている

#### 受け入れテスト
```gherkin
Feature: バナーサイズ選択

Scenario: サイズ選択
  Given バナーコピー編集画面にアクセスしている
  When "Instagram ストーリー (1080×1920)" を選択する
  Then プレビューが縦長レイアウトに変更される
  And サイズ情報が "1080×1920" と表示される

Scenario: デフォルトサイズ
  Given バナーコピー編集画面にアクセスしている
  Then "Facebook/Instagram フィード (1080×1080)" が選択されている
  And プレビューが正方形レイアウトで表示される
```

### Story 4: 背景スタイル選択機能
**As a** マーケター  
**I want** バナーの背景スタイルを選択できる  
**So that** ブランドイメージに合った魅力的なバナーを作成できる

#### アクセプタンスクライテリア
- [ ] グラデーション背景とデザインパターン背景から選択可能
- [ ] デザインパターンは以下から選択可能：
  - ドット
  - ストライプ
  - グリッド
  - ダイヤモンド
- [ ] 選択した背景スタイルがリアルタイムプレビューに反映される
- [ ] デフォルトでデザインパターン背景（ドット）が選択されている

#### 受け入れテスト
```gherkin
Feature: 背景スタイル選択

Scenario: 背景スタイル変更
  Given バナーコピー編集画面にアクセスしている
  When "グラデーション背景" を選択する
  Then プレビューの背景がグラデーションに変更される

Scenario: デザインパターン選択
  Given バナーコピー編集画面にアクセスしている
  And "デザインパターン背景" が選択されている
  When パターンタイプで "ストライプ" を選択する
  Then プレビューの背景がストライプパターンに変更される

Scenario: デフォルト背景
  Given バナーコピー編集画面にアクセスしている
  Then "デザインパターン背景" が選択されている
  And パターンタイプが "ドット" に設定されている
```

### Story 5: バナー生成機能
**As a** マーケター  
**I want** 編集完了後にバナー画像を生成できる  
**So that** 実際の広告配信で使用できる画像ファイルを取得できる

#### アクセプタンスクライテリア
- [ ] 「バナー生成開始」ボタンでバナー生成が開始される
- [ ] 生成中は進捗状況が表示される
- [ ] 選択されたサイズと背景スタイルでバナーが生成される
- [ ] 複数パターン（3種類）が同時に生成される
- [ ] 生成されたバナーはプレビュー画面で確認できる
- [ ] 生成時間は1パターンあたり10秒以内

#### 受け入れテスト
```gherkin
Feature: バナー生成

Scenario: バナー生成実行
  Given バナーコピーとサイズ・背景スタイルが設定されている
  When "バナー生成開始" ボタンをクリックする
  Then 生成進捗バーが表示される
  And 30秒以内に3パターンのバナーが生成される
  And 生成されたバナーがプレビュー画面に表示される

Scenario: 生成エラー処理
  Given バナーコピーが設定されている
  And ネットワークエラーが発生する状況
  When "バナー生成開始" ボタンをクリックする
  Then "バナー生成に失敗しました。再試行してください。" エラーメッセージが表示される
  And 再試行ボタンが表示される
```

## 非機能要件のユーザーストーリー

### Story 6: パフォーマンス要件
**As a** マーケター  
**I want** バナーコピー生成とバナー画像生成が迅速に完了する  
**So that** 効率的に作業を進められる

#### アクセプタンスクライテリア
- [ ] バナーコピー生成：5秒以内
- [ ] バナー画像生成：1パターンあたり10秒以内
- [ ] プレビュー更新：1秒以内
- [ ] ページ読み込み：3秒以内

### Story 7: ユーザビリティ要件
**As a** マーケター  
**I want** 直感的で使いやすいインターフェース  
**So that** 学習コストなく機能を活用できる

#### アクセプタンスクライテリア
- [ ] レスポンシブデザイン対応（PC・タブレット・スマートフォン）
- [ ] 明確なラベルとヘルプテキスト
- [ ] 適切なエラーメッセージとガイダンス
- [ ] キーボードナビゲーション対応
- [ ] アクセシビリティ基準（WCAG 2.1 AA）準拠

### Story 8: 信頼性要件
**As a** マーケター  
**I want** システムが安定して動作する  
**So that** 重要な作業が中断されることなく完了できる

#### アクセプタンスクライテリア
- [ ] 99.9%のアップタイム
- [ ] 適切なエラーハンドリング
- [ ] データの自動保存機能
- [ ] 障害時の復旧機能

## 優先度とリリース計画

### Phase 1 (MVP) - 高優先度
- Story 1: バナーコピー自動生成
- Story 2: バナーコピー編集機能
- Story 3: バナーサイズ選択機能（基本的なサイズのみ）

### Phase 2 - 中優先度
- Story 4: 背景スタイル選択機能
- Story 5: バナー生成機能
- Story 6: パフォーマンス最適化

### Phase 3 - 低優先度
- Story 7: ユーザビリティ向上
- Story 8: 信頼性向上
- 追加のバナーサイズ対応
- 高度な背景スタイル

## 成功指標（KPI）

### 定量的指標
- バナーコピー生成成功率：95%以上
- バナー画像生成成功率：90%以上
- ユーザー満足度：4.0/5.0以上
- 作業時間短縮率：70%以上

### 定性的指標
- ユーザーフィードバックの改善
- クライアント満足度の向上
- 制作品質の一貫性向上
- チーム生産性の向上 